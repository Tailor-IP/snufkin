(this.webpackJsonpsnufkin=this.webpackJsonpsnufkin||[]).push([[0],{157:function(e,t,a){e.exports=a(334)},162:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(25),c=a.n(i),r=(a(162),a(9)),s=a(8),l=a(156),d=a(59),u=a(105),m=a.n(u);function f(e){window.parent.postMessage(e,"*")}function g(e){var t=e>1e3?100:10;return Math.round(parseInt(e,10)/t*t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t>0?parseFloat(e).toFixed(t):Math.round(e),n=a.toString().split("."),o=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return t>0?[o,n[1]].join("."):o}function v(e){function t(e,t,a){return((e?e+" years":"")+(t?" "+t+" months":"")+(a?" "+a+" days":"")).trim()}if(e>36*30.4368499){var a=Math.floor(e/365.2421988),n=Math.floor((e-365.2421988*a)/30.4368499);return t(a,n,Math.round(e-365.2421988*a-30.4368499*n))}if(e>61){var o=Math.floor(e/30.4368499);return t(0,o,Math.round(e-30.4368499*o))}return t(0,0,e)}var p=function(e,t){return((parseFloat(e)+parseFloat(t))/2).toFixed(2)},b=function(e){for(var t,a=[],n=e.parent;n;)t=window.gantt.getTask(n),a.unshift(t),n=t.parent;return a},E=function(e){window.gantt.showTask(e)},h=function(e,t){[e].concat(b(e)).forEach(t)},k=function(){var e=window.gantt.$data.tasksStore.pull;return{tasks:window.gantt.$data.tasksStore.fullOrder.flat().map((function(t){return e[t]})),links:window.gantt.getLinks()}},O=function(){f(JSON.stringify({type:"snapshot",snapshot:k()}))},j=["officialFee","associateFee","unidentifiedFee","brokerageFee"],N=function(e){return j.reduce((function(t,a){return parseFloat(t)+parseFloat(e[a]||0)}),0)},F=function(e){var t=window.gantt.getTask(e);if(t){var a=function(e){return Object.values(window.gantt.$data.tasksStore.pull).filter((function(t){return t.parentIndex===e}))}(e),n=t.parent;a.forEach((function(e){window.gantt.updateTask(e.id,Object(s.a)(Object(s.a)({},e),{},{parent:n}))})),t.isFolder||y(t),window.gantt.deleteTask(e)}},y=function(e){var t=b(e),a=Object.entries(e).filter((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return(a.toLowerCase().includes("fee")||a.includes("Cost"))&&n}));t.forEach((function(e){var t=Object(s.a)({},e);a.forEach((function(e){var a=Object(r.a)(e,2),n=a[0],o=a[1];t[n]=t[n]-o})),window.gantt.updateTask(e.id,t)}))},_=function(e,t){var a=t-e.start_date;!function(e,t){var a=m()(window.gantt.getLinks(),"source");!function e(n){var o=a[n];if(o){var i=o.map((function(e){return e.target}));delete a[n],i.forEach((function(a){var n=window.gantt.getTask(a);t(n),e(a)}))}}(e)}(e.id,(function(e){e.start_date=new Date(e.start_date.valueOf()+a),e.end_date=new Date(e.end_date.valueOf()+a),window.gantt.updateTask(e.id,e)}))},C=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=window.gantt.$data.tasksStore.pull[e];_(n,t),"project"===n.type&&console.warn("that's a folder","https://i.imgur.com/RUdPyQP.jpg");var o=t.valueOf()-n.end_date.valueOf(),i=n.start_date.valueOf()+o;if("milestone"===n.type){var c=Object(s.a)({},n);return c.start_date=t,window.gantt.updateTask(e,c),window.gantt.$data.tasksStore.pull[e]}if(a){var r,l=Object(s.a)({},n);return r=t.valueOf()<=n.start_date.valueOf()?0:Math.round((t.valueOf()-i)/864e5),l.end_date=t,r<=0?(console.log("here"),l.type="milestone",l.duration=0,l.days_to_process=0,l.start_date=t):l.duration=r,window.gantt.updateTask(e,l),window.gantt.$data.tasksStore.pull[e]}};window.gantt.setEndDate=C,window.gantt.completeTask=function(e,t){var a=C(e,t);return a.progress=1,window.gantt.updateTask(e,a),a},window.gantt.getSnapshot=k;var x=function(e){return function(t,a){var n=t[e]||0,o=parseFloat(a)-parseFloat(n);h(t,(function(t){var a=t[e]||0,n=parseFloat(a)+parseFloat(o);isNaN(n)&&(window.gantt.message("Failed to parse, resetting cost"),n=0);var i=Object(s.a)(Object(s.a)({},t),{},Object(d.a)({},e,n));window.gantt.updateTask(t.id,i)}))}},S={associateFee:x("associateFee"),unidentifiedFee:x("unidentifiedFee"),brokerageFee:x("brokerageFee"),officialFee:function(e,t){var a=(t||0)-(e.officialFee||0);h(e,(function(e){var t=parseFloat(e.officialFee)+parseFloat(a);isNaN(t)&&(window.gantt.message("Failed to parse, resetting cost"),t=0);var n=Object(s.a)(Object(s.a)({},e),{},{officialFee:t,official_fee:t});window.gantt.updateTask(e.id,n)}))},attorneyFee:function(e,t){var a=t-p(e.minCost,e.maxCost);h(e,(function(e){var t=parseFloat(e.minCost)+parseFloat(a),n=parseFloat(e.maxCost)+parseFloat(a);(isNaN(t)||isNaN(n))&&(window.gantt.message("Failed to parse, resetting cost"),t=0,n=0);var o=Object(s.a)(Object(s.a)({},e),{},{minCost:t,min_attorney_fee:t,maxCost:n,max_attorney_fee:n});window.gantt.updateTask(e.id,o)}))}},T=function(e){var t=e.toISOString().slice(0,10).split("-"),a=Object(r.a)(t,3),n=a[0],o=a[1],i=a[2];return"".concat(i,"/").concat(o,"/").concat(n)},R=function(e){return Object.keys(e).filter((function(e){return e.endsWith("Fee")})).map((function(t){return{key:t,value:e[t]}}))};window.gantt.getSnapshot=k,window.gantt.onSave=O;var D=[{name:"text",tree:!0,width:156,resize:!0},{name:"start_date",align:"center",resize:!0,width:90},{name:"duration",align:"center",resize:!0,width:90,template:function(e){return v(e.duration)}},{name:"totalCost",align:"center",label:"Cost",width:90,template:function(e){var t=parseFloat(p(e.minCost,e.maxCost))+parseFloat(N(e));return parseFloat(t)>0?g(t)+"$":""}},{name:"add",width:44,min_width:44,max_width:44}],z=[{name:"text",tree:!0,width:156,resize:!0,editor:{type:"text",map_to:"text"}},{name:"start_date",align:"center",resize:!0,width:90,editor:{type:"date",map_to:"start_date"}},{name:"duration",align:"center",resize:!0,width:90,editor:{type:"number",map_to:"duration",min:0},template:function(e){return v(e.duration)}},{name:"attorneyFee",label:"Attorney Fee",align:"center",resize:!0,width:90,template:function(e){return g(parseFloat(p(e.minCost,e.maxCost)))},editor:{type:"number",map_to:"attorneyFee",min:0}},{name:"officialFee",label:"Official Fee",align:"center",resize:!0,width:90,editor:{type:"number",map_to:"officialFee",min:0}},{name:"associateFee",label:"Associate Fee",align:"center",resize:!0,width:90,editor:{type:"number",map_to:"associateFee",min:0}},{name:"brokerageFee",label:"Brokerage Fee",align:"center",resize:!0,width:90,editor:{type:"number",map_to:"brokerageFee",min:0}},{name:"unidentifiedFee",label:"Unidentified Fee",align:"center",resize:!0,width:90,editor:{type:"number",map_to:"unidentifiedFee",min:0}},{name:"totalCost",align:"center",label:"Total Cost",width:90,template:function(e){var t=parseFloat(p(e.minCost,e.maxCost))+parseFloat(N(e));return parseFloat(t)>0?g(t)+"$":""}},{name:"add",width:44,min_width:44,max_width:44}],$=(window.location.hostname,function(e){var t={trigger:"wheel",useKey:"altKey",levels:[{name:"day",scale_height:27,min_column_width:80,scales:[{unit:"day",step:1,format:"%d %M"}]},{name:"week",scale_height:50,min_column_width:50,scales:[{unit:"week",step:1,format:function(t){var a=e.date.date_to_str("%d %M"),n=e.date.add(t,-6,"day");return"#"+e.date.date_to_str("%W")(t)+", "+a(t)+" - "+a(n)}},{unit:"day",step:1,format:"%j %D"}]},{name:"month",scale_height:50,min_column_width:120,scales:[{unit:"month",format:"%F, %Y"},{unit:"week",format:"Week #%W"}]},{name:"quarter",height:50,min_column_width:90,scales:[{unit:"month",step:1,format:"%M"},{unit:"quarter",step:1,format:function(t){var a=e.date.date_to_str("%M"),n=e.date.add(e.date.add(t,3,"month"),-1,"day");return a(t)+" - "+a(n)}}]},{name:"year",scale_height:50,min_column_width:30,scales:[{unit:"year",step:1,format:"%Y"}]}]};e.ext.zoom.init(t)}),L=function(e,t){var a=[].concat(D);t||a.pop(),e.config.columns=a},M=function(e){e.config.date_format="%Y-%m-%d",e.config.date_format="%Y-%m-%d";var t=e.config;e.date.str_to_date(t.date_format,t.server_utc);e.templates.parse_date=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Date(e)},e.templates.grid_date_format=function(t,a){return e.date.date_to_str("%d/%m/%Y")(t)}},B=function(e,t){e.attachEvent("onGanttReady",(function(){e.config.buttons_left=[],e.config.buttons_right=[],e.locale.labels.gantt_cancel_btn="Close"}))},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={task:{view:"taskDetails",edit:"editTaskDetails"},project:{view:"folderDetails",edit:"editFolderDetails"},milestone:{view:"milestoneDetails",edit:"editMilestoneDetails",height:200}},n=a[e],o=[{name:"lightbox",height:n.height?n.height:250,type:"template",map_to:t?n.edit:n.view}];return o};function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.config.lightbox.sections=U("task",t),e.config.lightbox.project_sections=U("project",t),e.config.lightbox.milestone_sections=U("milestone",t),e.locale.labels.section_lightbox="",e.attachEvent("onBeforeLightbox",(function(t){var a=e.getTask(t);return a.taskDetails||(a.taskDetails="<div id='task-details'/>",a.milestoneDetails="<div id='milestone-details' class='snufkin'/>",a.folderDetails="<div id='folder-details'/>"),a})),e.attachEvent("onTaskCreated",(function(t){var a=Object(s.a)({},t);return a.$new=!0,a.epochStart=a.start_date.valueOf(),e.addTask(a),!1})),e.attachEvent("onAfterTaskAdd",(function(t,a){a.$new&&(a.index=a.id,a.title=a.text,a.minCost=0,a.maxCost=0,a.$source=[],a.$target=[],a.$new=!1,e.showLightbox(t))}))}var A,V=function(e){e.keys={}},W=function(e){e.plugins({undo:!0,keyboard_navigation:!0,fullscreen:!0,marker:!0}),e.config.undo_steps=5,e.config.order_branch=!0},Y=function(e,t){return function(a){var n=document.getElementById(t);return n?c.a.createPortal(o.a.createElement(e,a),n):null}},P=a(340),q=function(e){var t=e.task,a=e.className,n=void 0===a?"":a,i=t.progress?(100*t.progress).toFixed(2):0;return o.a.createElement("div",{className:n},o.a.createElement(P.a,{type:"circle",percent:i,width:80}))},J=a(343),H=a(34),K=a(35),G=a(44),Q=function(e){var t=o.a.createElement(H.a,{icon:K.e,className:"edit-icon"}),a=o.a.createElement(H.a,{icon:K.a,className:"edit-icon"}),i=Object(n.useState)(!1),c=Object(r.a)(i,2),s=c[0],l=c[1],d=Object(n.useState)(t),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(n.useCallback)((function(){s&&e&&e(),l(!s),f(s?t:a)}),[t,a,s,e]),w=Object(n.useCallback)((function(e){"Enter"===e.key&&(g(),e.preventDefault(),e.stopPropagation(),document.removeEventListener("keypress",w))}),[g]);return[s,function(e){var t=e.className,a=void 0===t?"":t;return o.a.createElement(G.a,{className:"edit-button ".concat(a),size:"small",onClick:g},m)}]},X=a(10),Z=Object(X.atom)({key:"selectedTask",default:null}),ee=Object(X.atom)({key:"editable",default:!1}),te=Object(X.atom)({key:"undoStack",default:0}),ae=Object(X.atom)({key:"redoStack",default:0}),ne=function(){},oe=Object(n.forwardRef)((function(e,t){var a=e.title,n=e.value,i=void 0===n?0:n,c=e.onChange,r=e.className,s=void 0===r?"":r;return o.a.createElement("div",{className:"cost-edit ".concat(s)},o.a.createElement("span",{className:"cost-edit-title"},a),o.a.createElement(J.a,{ref:t,min:0,value:parseFloat(i)?i:"",formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},onChange:c}))})),ie=function(e){var t=e.value,a=void 0===t?0:t,n=e.actualCost,i=e.title,c=(e.showIfEmpty,e.className),r=void 0===c?"":c;if("number"===typeof n){var s=parseFloat(n)-parseFloat(a),l=0!==parseFloat(a)&&0!==parseFloat(n)&&parseFloat(s)?(parseFloat(s)/parseFloat(a)*100).toFixed(2):0,d=Math.abs(l)>15?s<0?"positive":"negative":"neutral";0===parseFloat(a)&&0!==parseFloat(n)&&(d="negative"),0===parseFloat(n)&&0!==parseFloat(a)&&(d="positive");var u=s>=0?"+":"-";return o.a.createElement("div",{className:"cost-display ".concat(r)},o.a.createElement("span",{className:"cost-edit-title"},i),o.a.createElement("span",{className:"display-cost"},o.a.createElement("span",{className:"cost-compare"},"$ ".concat(w(a||0))),o.a.createElement("span",{className:"cost-compare "+d},"$ ".concat(w(n||0))),o.a.createElement("span",{className:"percentage "+d},"".concat(parseFloat(l)?u+Math.abs(l)+"%":""))))}return o.a.createElement("div",{className:"cost-display ".concat(r)},o.a.createElement("span",{className:"cost-edit-title"},i),o.a.createElement("span",{className:"display-cost"},"$ ".concat(w(a||0))))},ce=function(e){var t=e.value,a=e.title,i=e.onChange,c=void 0===i?ne:i,l=e.actualCost,d=(e.className,Object(n.useState)(t)),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Object(X.useRecoilState)(Z),w=Object(r.a)(g,2),v=w[0],p=w[1],b=Q((function(){c(m),p(Object(s.a)({},window.gantt.getTask(v.index)))})),E=Object(r.a)(b,2),h=E[0],k=E[1],O=Object(n.useRef)();return Object(n.useEffect)((function(){h&&O.current&&O.current.focus()}),[h,O]),Object(n.useEffect)((function(){return function(){h&&!v&&(console.log("inputref",O),c(m))}}),[m,h,c,v]),h?o.a.createElement("div",{className:"edit-cost"},o.a.createElement(oe,{value:m,title:a,onChange:f,ref:O}),o.a.createElement(k,{className:"cost-edit-switch"})):o.a.createElement("div",{className:"edit-cost"},o.a.createElement(ie,{value:t,title:a,showIfEmpty:!0,actualCost:l}),o.a.createElement(k,{className:"cost-edit-switch"}))},re=function(e){var t=e.value,a=e.title,n=e.onChange,i=void 0===n?ne:n,c=e.className,r=void 0===c?"":c,s=e.editable,l=void 0!==s&&s,d=e.actualCost;return l?o.a.createElement(ce,{value:t,actualCost:d,title:a,onChange:i,className:r}):o.a.createElement(ie,{value:t,title:a,className:r,actualCost:d})},se=function(e){var t=e.editable;return o.a.createElement("div",{className:"cost-titles "+(t?"editable-cost-titles":"")},o.a.createElement("span",{className:"cost-category"},"Estimated"),o.a.createElement("span",{className:"cost-category"},"Actual"),o.a.createElement("span",{className:"cost-category"},"Difference"))},le={attorneyFee:0,officialFee:0,associateFee:0,unidentifiedFee:0,brokerageFee:0},de=function(e){var t=e.task,a=e.className,n=void 0===a?"":a,i=p(t.minCost||0,t.maxCost||0)||0,c=t.officialFee,r=parseFloat(i)+parseFloat(N(t)),l=Object(X.useRecoilValue)(ee)&&!t.isFolder,d=t.actualCost?Object(s.a)(Object(s.a)({},le),t.actualCost):{},u=t.actualCost?Object.values(d).reduce((function(e,t){return e+t}),0):null;return o.a.createElement("div",{className:"price-details ".concat(n)},t.actualCost?o.a.createElement(se,{editable:l}):null,o.a.createElement(re,{title:"Attorney Fee",value:i,actualCost:d.attorneyFee,editable:l,onChange:S.attorneyFee.bind(null,t)}),o.a.createElement(re,{title:"Official Fee",value:c,actualCost:d.officialFee,onChange:S.officialFee.bind(null,t),editable:l}),o.a.createElement(re,{title:"Associate Fee",value:t.associateFee,actualCost:d.associateFee,onChange:S.associateFee.bind(null,t),editable:l}),o.a.createElement(re,{title:"Unidentified Fee",value:t.unidentifiedFee,actualCost:d.unidentifiedFee,onChange:S.unidentifiedFee.bind(null,t),editable:l}),o.a.createElement(re,{title:"Brokerage Fee",value:t.brokerageFee,actualCost:d.brokerageFee,onChange:S.brokerageFee.bind(null,t),editable:l}),o.a.createElement(re,{title:"Total",value:r,actualCost:u,editable:!1,className:"total-cost "+(l&&t.actualCost?"edit":"")}))},ue=a(339),me=function(e){var t=e.className,a=void 0===t?"":t,n=Object(X.useRecoilState)(Z),i=Object(r.a)(n,2),c=i[0],s=i[1],l=b(c),d=function(e){window.gantt.hideLightbox(),E(e.index),window.gantt.showLightbox(e.id),s(e)};return o.a.createElement(ue.a,{className:a},l.map((function(e){return o.a.createElement(ue.a.Item,{key:e.index.toString()},o.a.createElement(G.a,{className:"breadcrumb-button",key:e.index.toString(),type:"link",onClick:d.bind(null,e)},e.title))})))},fe=a(341),ge=function(e){var t=e.task;return o.a.createElement("div",{className:"summary-title"},t.text)},we=function(e){var t=e.task,a=e.className,i=void 0===a?"":a,c=Object(X.useSetRecoilState)(Z),l=Object(n.useRef)(),d=Object(n.useState)(t.title),u=Object(r.a)(d,2),m=u[0],f=u[1],g=Q((function(){var e=Object(s.a)(Object(s.a)({},t),{},{title:m,text:m});window.gantt.updateTask(t.id,e),c(e)})),w=Object(r.a)(g,2),v=w[0],p=w[1];return Object(n.useEffect)((function(){v&&l.current&&l.current.focus()}),[v,l]),v?o.a.createElement("div",{className:"title-edit ".concat(i)},o.a.createElement(fe.a,{defaultValue:t.title,onChange:function(e){var t=e.target;return f(t.value)},onPressEnter:function(){},className:"title-input",ref:l}),o.a.createElement(p,null)):o.a.createElement("div",{className:"title-edit ".concat(i)},o.a.createElement(ge,{task:t}),o.a.createElement(p,null))},ve=function(e){return Object(X.useRecoilValue)(ee)?o.a.createElement(we,e):o.a.createElement(ge,e)},pe=function(e){var t=e.task,a=e.selectTask;return o.a.createElement("div",{className:"summary"},o.a.createElement(me,{task:t,selectTask:a,className:"parents-component"}),o.a.createElement(ve,{task:t}),o.a.createElement("div",null,"Duration: ",o.a.createElement("span",{className:"summary-duration"},v(t.duration))))},be=function(e){var t=e.task,a=e.className,n=void 0===a?"":a,i=(e.editable,t&&t.start_date&&t.start_date.toUTCString?t.start_date.toUTCString().split(" ").splice(0,4).join(" "):null);return o.a.createElement("div",{className:n},o.a.createElement("div",{className:"title-line"},o.a.createElement(H.a,{icon:K.c,className:"milestone-icon"}),o.a.createElement(ve,{className:"milestone-title",task:t})),o.a.createElement("div",{className:"milestone-date"},i))},Ee=function(e){var t=e.className,a=void 0===t?"":t,n=Object(X.useRecoilState)(Z),i=Object(r.a)(n,2),c=i[0],l=i[1];return o.a.createElement(G.a,{type:"primary",className:"button close ".concat(a),onClick:function(){var e=Object(s.a)({},window.gantt.getTask(c.id));e.$source=[].concat(e.$source),e.$target=[].concat(e.$target),window.gantt.updateTask(c.id,e),window.gantt.hideLightbox(),l(null)}},"Close")},he=function(e){var t=e.id;return o.a.createElement(G.a,{onClick:function(){window.gantt.confirm({text:"Are you sure?",ok:"Delete",cancel:"Cancel",callback:function(e){if(e){window.gantt.hideLightbox();var a=window.gantt.getTask(t);F(t),window.gantt.message('Task "'.concat(a.title,'" deleted'))}}})},className:"delete-button button",type:"primary",danger:!0},"Delete")},ke={Close:Ee,Delete:he,Default:function(e){var t=e.id;return Object(X.useRecoilValue)(ee)?o.a.createElement("div",{className:"editable-buttons"},o.a.createElement(he,{id:t}),o.a.createElement(Ee,null)):o.a.createElement("div",{className:"buttons"}," ",o.a.createElement(Ee,null)," ")}},Oe=[Y((function(e){var t=e.task;return t?o.a.createElement("div",{className:"details-lightbox"},o.a.createElement("div",{className:"details-collection"},o.a.createElement(pe,{task:t}),o.a.createElement(q,{task:t,className:"details-progress"})),o.a.createElement(de,{task:t}),o.a.createElement("div",{className:"view-buttons-section"},o.a.createElement(ke.Default,{id:t.id}))):null}),"task-details"),Y((function(e){var t=e.task,a=e.selectTask;return t?o.a.createElement("div",{className:"details-lightbox"},o.a.createElement("div",{className:"details-collection"},o.a.createElement(pe,{task:t,selectTask:a}),o.a.createElement(q,{task:t,className:"details-progress"})),o.a.createElement(de,{task:t,editable:!1}),o.a.createElement("div",{className:"view-buttons-section"},o.a.createElement(ke.Default,{id:t.id}))):null}),"folder-details"),Y((function(e){var t=e.task,a=void 0===t?{}:t;e.selectTask;return a?o.a.createElement("div",{className:"milestone-details-lightbox"},o.a.createElement("div",{className:"details-collection"},o.a.createElement(be,{task:a,className:"milestone-summary"})),o.a.createElement(de,{task:a}),o.a.createElement("div",{className:"view-buttons-section"},o.a.createElement(ke.Default,{id:a.id}))):null}),"milestone-details")],je=function(){var e=window.gantt.ext.zoom._levels.length;return window.gantt.ext.zoom.getCurrentLevel()+1<e},Ne=function(){return window.gantt.ext.zoom.getCurrentLevel()>0},Fe=function(e){var t=e.className,a=void 0===t?"":t,i=Object(n.useState)(!1),c=Object(r.a)(i,2),s=c[0],l=c[1],d=Object(n.useState)(!0),u=Object(r.a)(d,2),m=u[0],f=u[1];return o.a.createElement("div",{className:a},o.a.createElement(G.a,{type:"primary",disabled:!s,className:"zoom-button",onClick:function(){window.gantt.ext.zoom.zoomIn(),f(je()),l(Ne())},icon:o.a.createElement(H.a,{icon:K.f,className:"zoom-in"})}),o.a.createElement(G.a,{type:"primary",disabled:!m,className:"zoom-button",onClick:function(){window.gantt.ext.zoom.zoomOut(),f(je()),l(Ne())},icon:o.a.createElement(H.a,{icon:K.d,className:"zoom-out"})}))},ye=function(e){e.className;var t=Object(X.useRecoilState)(te),a=Object(r.a)(t,2),n=a[0],i=a[1],c=Object(X.useRecoilState)(ae),s=Object(r.a)(c,2),l=s[0],d=s[1];return o.a.createElement("div",{className:"undo-redo-button"},o.a.createElement(G.a,{type:"primary",disabled:!n,className:"undo-redo-button",onClick:function(){window.gantt.undo(),window.gantt.onUndo&&window.gantt.onUndo(),i(window.gantt.getUndoStack().length),d(window.gantt.getRedoStack().length)},icon:o.a.createElement(H.a,{icon:K.i,className:"undo"})}),o.a.createElement(G.a,{type:"primary",disabled:!l,className:"undo-redo-button",onClick:function(){window.gantt.redo(),window.gantt.onRedo&&window.gantt.onRedo(),d(window.gantt.getRedoStack().length),i(window.gantt.getUndoStack().length)},icon:o.a.createElement(H.a,{icon:K.g,className:"redo"})}))},_e=a(344),Ce=function(e){var t=window.gantt.getTask(e.id);if("project"!==t.type){if("text"===e.columnName){var a=Object(s.a)(Object(s.a)({},t),{},{title:e.newValue,text:e.newValue});window.gantt.updateTask(t.id,a)}if(S[e.columnName]){(0,S[e.columnName])(t,parseFloat(e.newValue||0))}else{if("duration"===e.columnName)return n=t,o=parseFloat(e.newValue||0),n.type=0===o?window.gantt.config.types.milestone:window.gantt.config.types.task,void window.gantt.updateTask(n.id,n);var n,o;"start_date"!==e.columnName||_(t,e.newValue)}}},xe=function(){window.gantt.ext.inlineEditors.attachEvent("onBeforeSave",(function(e){return Ce(e),!0})),window.gantt.ext.inlineEditors.attachEvent("onBeforeEditStart",(function(e){return window.gantt.getTask(e.id).type!==window.gantt.config.types.project||"text"===e.columnName}))},Se=function(){return o.a.createElement("div",{className:"toolbar-button"},o.a.createElement("div",{className:"toolbar-button-title"},"Inline Edit"),o.a.createElement(_e.a,{checkedChildren:"On",unCheckedChildren:"Off",onChange:function(e){e?(window.gantt.config.columns=z,setTimeout(xe,0)):(window.gantt.config.columns=D,window.gantt.ext.inlineEditors.detachAllEvents()),window.gantt.config.keyboard_navigation=e,window.gantt.config.keyboard_navigation_cells=e,window.gantt.resetLayout()}}))},Te=a(52),Re=a.n(Te),De=a(90),ze=function(){var e=function(){var e=Object(De.a)(Re.a.mark((function e(){var t;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.document.getElementById("snufkin"),console.log(t),!(t.clientHeight>=window.innerHeight)){e.next=13;break}return e.prev=3,e.next=6,document.exitFullscreen();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),t.requestFullscreen();case 11:e.next=14;break;case 13:t.requestFullscreen();case 14:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"tooltip-button-wrapper"},o.a.createElement(G.a,{onClick:e,className:"tooltip-button"},o.a.createElement("span",{className:"tooltip-button-title"},"Full Screen"),o.a.createElement(H.a,{icon:K.b,className:"expand"})))},$e=a(337),Le=a(342),Me=function(e){var t=e.className,a=void 0===t?"":t,n=e.size,i=void 0===n?24:n;return o.a.createElement($e.a,{indicator:o.a.createElement(Le.a,{spin:!0,style:{fontSize:i}}),className:"spinner ".concat(a)})},Be=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],i=t[1],c=function(){var e=Object(De.a)(Re.a.mark((function e(){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,window.gantt.onSave();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:i(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return a?o.a.createElement("div",{className:"tooltip-button-wrapper"},o.a.createElement(Me,null)):o.a.createElement("div",{className:"tooltip-button-wrapper"},o.a.createElement(G.a,{onClick:c,className:"tooltip-button"},o.a.createElement("span",{className:"tooltip-button-title"},"Save"),o.a.createElement(H.a,{icon:K.h,className:"expand"})))},Ue=(a(152),a(338),function(){return o.a.createElement("div",{className:"toolbar"},o.a.createElement(ye,null),o.a.createElement(Se,null),o.a.createElement(ze,null),o.a.createElement(Be,null))}),Ie=function(e){return Object(X.useRecoilValue)(ee)?o.a.createElement(Ue,Object.assign({className:"toolbar"},e)):null},Ae=function(e){var t=e.data,a=(e.onSave,Object(X.useRecoilState)(Z)),i=Object(r.a)(a,2),c=i[0],l=i[1],d=Object(X.useRecoilState)(te),u=Object(r.a)(d,2),m=(u[0],u[1]),f=Object(X.useRecoilState)(ae),g=Object(r.a)(f,2),w=(g[0],g[1],Object(n.useState)(!1)),v=Object(r.a)(w,2),p=v[0],b=v[1],k=Object(n.useState)(!1),O=Object(r.a)(k,2),j=O[0],N=O[1],F=Object(X.useRecoilValue)(ee),y=Object(n.useState)(null),C=Object(r.a)(y,2),x=C[0],S=C[1];return Object(n.useEffect)((function(){window.gantt.attachEvent("onBeforeUndoStack",(function(e){if(!j){var t=window.gantt.getUndoStack();m(t?t.length+1:0),N(!0)}return!0}))}),[]),Object(n.useEffect)((function(){window.gantt.ext.inlineEditors.attachEvent("onEditEnd",(function(e){return!0}))}),[]),Object(n.useEffect)((function(){window.gantt.attachEvent("onBeforeTaskChanged",(function(e,t,a){return _(a,window.gantt.getTask(e).start_date),!0}))}),[]),Object(n.useEffect)((function(){t&&t.tasks&&t.tasks.length&&((A=window.gantt).clearAll(),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$(e),W(e),V(e),L(e,t),M(e),I(e),B(e),e.init("ganttDiv")}(A,F),A.ext.zoom.setLevel(0),A.config.date_format="%Y-%m-%d",window.gantt.parse(t),A.addMarker({start_date:new Date,css:"today",title:T(new Date),text:"Today"}),A.attachEvent("onLightbox",(function(e){l(window.gantt.getTask(e))})),A.attachEvent("onAfterLightbox",(function(e){l(null)})),p||b(!0))}),[t,l,b,F]),Object(n.useEffect)((function(){p&&(!c||!c.index||x&&x.index===c.index||(A.hideLightbox(),S(c),E(c.index),A.$data.tasksStore.select(c.index),h(c,(function(e){if(e.isFolder){var t=Object(s.a)(Object(s.a)({},e),{},{$open:!0});window.gantt.updateTask(e.id,t)}})),window.gantt.showLightbox(c.id)))}),[p,c,x]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Ie,null),o.a.createElement("div",{id:"ganttDiv"}),c?Oe.map((function(e,t){return o.a.createElement(e,{task:c,key:c.id+t.toString(),selectTask:l})})):null,o.a.createElement(Fe,{className:"zoom-controller"}))},Ve=(a(333),function(){}),We=function(e){var t=e.tasks,a=e.links,i=e.selectedTask,c=e.receipts,d=e.editable,u=void 0!==d&&d,g=e.onSave,w=void 0===g?Ve:g,v=e.onUndo,p=void 0===v?Ve:v,b=e.onRedo,E=void 0===b?Ve:b,h=Object(n.useState)({tasks:[],links:[]}),k=Object(r.a)(h,2),j=k[0],N=k[1],F=Object(n.useState)({}),y=Object(r.a)(F,2),_=y[0],C=y[1],x=Object(X.useSetRecoilState)(ee),S=Object(X.useSetRecoilState)(Z);return Object(n.useEffect)((function(){t||(window.onmessage=function(e){var t=e.data;try{t=JSON.parse(e.data)}catch(n){console.log("can't parse data: "+e.data)}if("data"===t.type&&(console.log("got data"),N(t.data),x(t.editable||!1),window.gantt.clearUndoStack(),window.gantt.clearRedoStack(),f("done")),"receipts"===t.type){var a=t.payload.assignments;C(a)}"getSnapshot"===t.type&&O()}),console.log("ver 0.0.9")}),[x]),Object(n.useEffect)((function(){t&&a&&N({tasks:t,links:a})}),[t,a]),Object(n.useEffect)((function(){S(i)}),[i]),Object(n.useEffect)((function(){!function(e){if(e){var t=Object.values(window.gantt.$data.tasksStore.pull),a=m()(e,"taskId");t.forEach((function(e){if(e.actualCost){e.actualCost;var t=Object(l.a)(e,["actualCost"]);window.gantt.updateTask(e.id,t)}if(a[e.id]){var n=a[e.id].map(R).flat().reduce((function(e,t){return e[t.key]=(e[t.key]||0)+t.value,e}),{}),o=Object(s.a)(Object(s.a)({},e),{},{actualCost:n});window.gantt.updateTask(e.id,o)}}))}}(_)}),[_,t,j]),Object(n.useEffect)((function(){c&&c.assignments&&C(c.assignments)}),[c]),Object(n.useEffect)((function(){t&&(x(u),window.gantt.onSave=w,window.gantt.onUndo=p,window.gantt.onRedo=E)}),[u,t,w]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"snufkin",id:"snufkin"},o.a.createElement("div",{className:"gantt-container"},o.a.createElement(Ae,{data:j}))))},Ye=function(e){return o.a.createElement(X.RecoilRoot,null,o.a.createElement(We,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[157,1,2]]]);